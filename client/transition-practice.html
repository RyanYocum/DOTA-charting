<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
</head>

<body>
 <script>

 d3.json('http://novlovplov.xyz/api/accounts/', function (error, apiData) {
  var data = [];
  for (var i = 0; i < apiData.length; i++) {
    data.push(apiData[i].currentMMR)
  }
  console.log(data)

  var canvas = d3.select("body")
                    .append("svg")
                    .attr("width", 1000)
                    .attr('height', 400)

  var rect = canvas.selectAll("rect")
                    .data(data)
                    .enter()
                        .append("rect")
                        .attr("width", function(d) {return d/20})
                        .attr("height", 40)
                        // .attr("y", function(d,i) {return i * 50})
                        .transition()
        .duration(function(d,i) {return i * 200})
        // .attr("y", function(d,i) {return i * 50})

    rect.transition()
        .duration(2000)
        .style("fill", "blue")
        .attr("y", function(d,i) {return i * 50})

});
 </script>

</body>
</html>